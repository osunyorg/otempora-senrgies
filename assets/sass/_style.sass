.block-features ul 
    @include in-page-without-sidebar
        @include grid(2, desktop)

h2,h3,h4,h5,h6
    color: $color-heading

// header : bannière avec logo + menu
header#document-header
    // ici pour éviter de réécrire toute la ligne `border: 1px...` on réassigne la variable css
    --color-border: #{$header-color}
    .menu
        span, a, button
            font-weight: bold
    &.is-sticky
        // en l'absence de logo bleu, on inverse la couleur de blanc vers noir
        // dans l'idéal, ajouter un 2e logo à afficher à la place
        .logo
            filter: invert(1)


.block-features li figure picture img
    display: block
    margin-left: 0
    margin-right: auto

.page__home
    .hero--with-image
        padding-top: 0 !important
        padding-bottom: 0
        .content
            align-items: center
            justify-content: center
            padding-top: 0
            h1
                text-align: center
            .hero-text 
                position: absolute
                z-index: 8
                padding-left: 0 !important
                @include media-breakpoint-up(desktop)
                    width: columns(12)
                @include media-breakpoint-up(xxl)
                    width: columns(8)
                @include media-breakpoint-up(xxxl)
                    width: columns(11)
            figure
                width: 100%
                img
                    object-fit: cover
                    height: 100vh
        &::after,
        &::before
            content: ''
            position: absolute
            pointer-events: none
        &::before
            // ici le logo snergie dans `/assets/images/hero/senrgies.png`
        &::after
            // ici dans l'idéal un svg
            background-image: url('/assets/images/hero/agglo.png')
            background-size: cover
            bottom: 0
            right: 0
            height: pxToRem(183)
            width: 100%
            @include media-breakpoint-up(desktop)
                height: pxToRem(210)
                width: pxToRem(450)
        @include media-breakpoint-up(desktop)
            .container
                padding-left: 0
                padding-right: 0
                max-width: unset
                max-height: 100vh
                width: 100%
                figcaption
                    margin-left: auto
                    margin-right: auto
                    padding-left: var(--grid-gutter)
                    padding-right: var(--grid-gutter)
                    width: var(--grid-width)
                figcaption::before
                    padding-right: var(--grid-gutter)
        @include media-breakpoint-down(desktop)
            &:has(figcaption)::after
                bottom: pxToRem(37)
            .content
                display: flex
                align-items: center
            figure
                width: calc(100% + (var(--grid-gutter) * 2)) !important
                img
                    aspect-ratio: 1
                    object-fit: cover

    .block-contact
        margin-top: 0

.hero
    .content
        .hero-text
            @include media-breakpoint-up(desktop)
                padding-left: offset(1)
                width: columns(10)

.block-chapter
    @include in-page-without-sidebar
        padding-top: $spacing-5
        padding-bottom: $spacing-5

.block-chapter.block-class-green
    background-color: $color-dark-green
    background-image: url(/assets/images/eye3.svg)
    background-repeat: no-repeat
    background-attachment: fixed
    background-position: left bottom

.block-chapter--alt_background
    background-image: url(/assets/images/eye-blue.svg)
    background-repeat: no-repeat
    background-attachment: fixed
    background-position: right bottom
    .block-title
        @include h2
    &:not(.block-chapter--with-image)
        @include in-page-without-sidebar
            padding-top: $spacing-6
            padding-bottom: $spacing-6
            .text
                width: columns(12)
        

.block-chapter--accent_background
    .block-title
        @include h2
        color: $color-background
    .rich-text
        @include h3
    .notes
        @include body-text
    @include in-page-without-sidebar
        .chapter
            flex-direction: row-reverse
        &.block-chapter--with-image
            padding: 0
            .chapter
                gap: var(--grid-gutter)
                @include media-breakpoint-up(xl)
                    align-items: center
                    gap: $spacing-6
                > *
                    flex: 1
                figure
                    img, picture, button
                        height: 100%
                        width: auto
                    img
                        object-fit: cover
                    @include media-breakpoint-down(xxxl)
                        margin-left: var(--grid-gutter-negative)
                .text
                    padding: $spacing-5 0
    

.block-title.block-class-hidden
    @extend .sr-only
    // ici on vient appliquer la même marge que sur les autres blocs
    // dans le cas des blocs masqués suivi d'un autre bloc
    + .block:not(.block-contact, .block-class-green)
        margin-top: var(--heading-margin-top)

.block-chapter.block-class-intro-center
    .chapter
        @include in-page-without-sidebar
            flex-direction: column
            gap: $spacing-4
            .text
                width: columns(8)
                text-align: center
            figure
                width: columns(6)
        
        > *
            margin: auto
    .text
        @include h3
        color: $color-heading
        b
            color: $color-green

.block-features
    li 
        div > div p 
            b
            @include h4
            margin-bottom: $spacing-2
            display: block
            color: $color-accent

        .name
            @include h4
            font-weight: bold
            margin: 0
    @include in-page-without-sidebar
        ul 
            grid-gap: $spacing-5 $spacing-6

.block-contact
    color: $color-background
    background: $color-accent
    .block-title, a
        color: $color-background
    .block-title
        @include h2
    .contacts
        h3,h4,h5
            @extend .sr-only
    @include in-page-without-sidebar
        padding-top: $spacing-6
        padding-bottom: $spacing-6
        .block-content 
            display: flex
            align-items: baseline
        .top, .block-title
            margin-bottom: 0
        .contact-content, .contacts
            margin-top: 0
        .contact-content
            flex: 1
            .contacts
                @include h3
                font-weight: normal
                @include grid(2)
                gap: $spacing-3
            @include media-breakpoint-up(xl)
                width: columns(6)
        .top
            flex: 1

// footer : marge et alignement
footer#document-footer
  @include media-breakpoint-up(desktop)
    padding: 0

    .container
      display: flex
      justify-content: space-between
      padding-bottom: 0
      flex-direction: column

      + .container
        align-items: flex-end
        padding-top: 0
        padding-bottom: 0

//h2 accordeon changement de font
.block.block-title--collapsed
    .block.block-title--collapsed h2
        font-family: $body-font-family
        font-weight: normal

//h2 accordeon elargissement grille                   
.block.block-title
    margin-bottom: var(--heading-margin-bottom)
    &:not(:first-child)
        margin-top: var(--heading-margin-top)
    @include in-page-with-sidebar
        &::after
            width: columns(10)
            margin-left: auto
    @include in-page-without-sidebar
        h2
            max-width: columns(10)
    &--collapsed
        align-items: end
        cursor: pointer
        display: flex
        flex-wrap: wrap
        justify-content: space-between
        position: relative
        h2
            flex: 1
        @include icon(arrow-down-s-line, before)
            font-size: pxToRem(25)
            order: 2




